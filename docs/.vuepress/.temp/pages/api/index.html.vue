<template><div><h1 id="api-æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#api-æ–‡æ¡£">#</a> API æ–‡æ¡£</h1>
<p>VGOå¾®æœåŠ¡æä¾›å®Œæ•´çš„gRPC APIæ¥å£ï¼Œæ”¯æŒç”¨æˆ·ç®¡ç†ã€æƒé™æ§åˆ¶ã€åº”ç”¨ç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº†æ‰€æœ‰å¯ç”¨çš„APIæ¥å£ã€å‚æ•°è¯´æ˜å’Œä½¿ç”¨ç¤ºä¾‹ã€‚</p>
<h2 id="ğŸ“‹-api-æ¦‚è§ˆ" tabindex="-1"><a class="header-anchor" href="#ğŸ“‹-api-æ¦‚è§ˆ">#</a> ğŸ“‹ API æ¦‚è§ˆ</h2>
<h3 id="æœåŠ¡ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡ä¿¡æ¯">#</a> æœåŠ¡ä¿¡æ¯</h3>
<ul>
<li><strong>æœåŠ¡åç§°</strong>: <code v-pre>iam.v1.IAM</code></li>
<li><strong>åè®®</strong>: gRPC</li>
<li><strong>ç«¯å£</strong>: <code v-pre>50051</code></li>
<li><strong>è®¤è¯æ–¹å¼</strong>: AWS Signature Version 4</li>
<li><strong>æ•°æ®æ ¼å¼</strong>: Protocol Buffers</li>
</ul>
<h3 id="api-åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#api-åˆ†ç±»">#</a> API åˆ†ç±»</h3>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>åŠŸèƒ½</th>
<th>æ¥å£æ•°é‡</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/api/user-management" target="_blank" rel="noopener noreferrer">ç”¨æˆ·ç®¡ç†</a></td>
<td>ç”¨æˆ·CRUDæ“ä½œ</td>
<td>5ä¸ª</td>
</tr>
<tr>
<td><a href="/api/policy-management" target="_blank" rel="noopener noreferrer">ç­–ç•¥ç®¡ç†</a></td>
<td>æƒé™ç­–ç•¥ç®¡ç†</td>
<td>6ä¸ª</td>
</tr>
<tr>
<td><a href="/api/access-keys" target="_blank" rel="noopener noreferrer">è®¿é—®å¯†é’¥</a></td>
<td>APIå¯†é’¥ç®¡ç†</td>
<td>4ä¸ª</td>
</tr>
<tr>
<td><a href="/api/applications" target="_blank" rel="noopener noreferrer">åº”ç”¨ç®¡ç†</a></td>
<td>OAuth2åº”ç”¨ç®¡ç†</td>
<td>5ä¸ª</td>
</tr>
<tr>
<td><a href="/api/permissions" target="_blank" rel="noopener noreferrer">æƒé™éªŒè¯</a></td>
<td>æƒé™æ£€æŸ¥</td>
<td>1ä¸ª</td>
</tr>
<tr>
<td><a href="/api/developer-verification" target="_blank" rel="noopener noreferrer">å¼€å‘è€…è®¤è¯</a></td>
<td>å¼€å‘è€…èº«ä»½éªŒè¯</td>
<td>4ä¸ª</td>
</tr>
</tbody>
</table>
<h2 id="ğŸš€-å¿«é€Ÿå¼€å§‹" tabindex="-1"><a class="header-anchor" href="#ğŸš€-å¿«é€Ÿå¼€å§‹">#</a> ğŸš€ å¿«é€Ÿå¼€å§‹</h2>
<h3 id="_1-å®‰è£…grpcå®¢æˆ·ç«¯å·¥å…·" tabindex="-1"><a class="header-anchor" href="#_1-å®‰è£…grpcå®¢æˆ·ç«¯å·¥å…·">#</a> 1. å®‰è£…gRPCå®¢æˆ·ç«¯å·¥å…·</h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token comment"># å®‰è£…grpcurl</span></span>
<span class="line">go <span class="token function">install</span> github.com/fullstorydev/grpcurl/cmd/grpcurl@latest</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æˆ–ä½¿ç”¨åŒ…ç®¡ç†å™¨</span></span>
<span class="line">brew <span class="token function">install</span> grpcurl  <span class="token comment"># macOS</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> grpcurl  <span class="token comment"># Ubuntu</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-æŸ¥çœ‹å¯ç”¨æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#_2-æŸ¥çœ‹å¯ç”¨æœåŠ¡">#</a> 2. æŸ¥çœ‹å¯ç”¨æœåŠ¡</h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token comment"># åˆ—å‡ºæ‰€æœ‰æœåŠ¡</span></span>
<span class="line">grpcurl <span class="token parameter variable">-plaintext</span> localhost:50051 list</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŸ¥çœ‹IAMæœåŠ¡çš„æ–¹æ³•</span></span>
<span class="line">grpcurl <span class="token parameter variable">-plaintext</span> localhost:50051 list iam.v1.IAM</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-æŸ¥çœ‹æ–¹æ³•è¯¦æƒ…" tabindex="-1"><a class="header-anchor" href="#_3-æŸ¥çœ‹æ–¹æ³•è¯¦æƒ…">#</a> 3. æŸ¥çœ‹æ–¹æ³•è¯¦æƒ…</h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token comment"># æŸ¥çœ‹CreateUseræ–¹æ³•çš„è¯¦ç»†ä¿¡æ¯</span></span>
<span class="line">grpcurl <span class="token parameter variable">-plaintext</span> localhost:50051 describe iam.v1.IAM.CreateUser</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-è°ƒç”¨apiç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_4-è°ƒç”¨apiç¤ºä¾‹">#</a> 4. è°ƒç”¨APIç¤ºä¾‹</h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token comment"># åˆ›å»ºç”¨æˆ·</span></span>
<span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "name": "test_user",</span>
<span class="line">  "display_name": "Test User",</span>
<span class="line">  "email": "test@example.com"</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/CreateUser</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ”-è®¤è¯æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ğŸ”-è®¤è¯æ–¹å¼">#</a> ğŸ” è®¤è¯æ–¹å¼</h2>
<h3 id="aws-signature-version-4" tabindex="-1"><a class="header-anchor" href="#aws-signature-version-4">#</a> AWS Signature Version 4</h3>
<p>VGOä½¿ç”¨AWS Signature Version 4ç®—æ³•è¿›è¡ŒAPIè®¤è¯ã€‚æ‚¨éœ€è¦ï¼š</p>
<ol>
<li><strong>è·å–è®¿é—®å¯†é’¥</strong>ï¼šé€šè¿‡ç®¡ç†ç•Œé¢æˆ–APIåˆ›å»ºè®¿é—®å¯†é’¥</li>
<li><strong>è®¡ç®—ç­¾å</strong>ï¼šä½¿ç”¨AWS SigV4ç®—æ³•è®¡ç®—è¯·æ±‚ç­¾å</li>
<li><strong>æ·»åŠ è®¤è¯å¤´</strong>ï¼šåœ¨è¯·æ±‚ä¸­åŒ…å«Authorizationå¤´</li>
</ol>
<h3 id="è®¤è¯å¤´æ ¼å¼" tabindex="-1"><a class="header-anchor" href="#è®¤è¯å¤´æ ¼å¼">#</a> è®¤è¯å¤´æ ¼å¼</h3>
<div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre v-pre><code class="language-text"><span class="line">Authorization: AWS4-HMAC-SHA256 Credential=AKIAIOSFODNN7EXAMPLE/20230101/us-east-1/iam/aws4_request, SignedHeaders=host;x-amz-date, Signature=calculated_signature</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨sdk" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨sdk">#</a> ä½¿ç”¨SDK</h3>
<p>æ¨èä½¿ç”¨å®˜æ–¹SDKæ¥å¤„ç†ç­¾åè®¡ç®—ï¼š</p>
<div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre v-pre><code class="language-go"><span class="line"><span class="token comment">// Go SDKç¤ºä¾‹</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token string">"github.com/aws/aws-sdk-go/aws/credentials"</span></span>
<span class="line">    <span class="token string">"github.com/aws/aws-sdk-go/aws/signer/v4"</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">creds <span class="token operator">:=</span> credentials<span class="token punctuation">.</span><span class="token function">NewStaticCredentials</span><span class="token punctuation">(</span>accessKeyID<span class="token punctuation">,</span> secretAccessKey<span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span></span>
<span class="line">signer <span class="token operator">:=</span> v4<span class="token punctuation">.</span><span class="token function">NewSigner</span><span class="token punctuation">(</span>creds<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“Š-å“åº”æ ¼å¼" tabindex="-1"><a class="header-anchor" href="#ğŸ“Š-å“åº”æ ¼å¼">#</a> ğŸ“Š å“åº”æ ¼å¼</h2>
<h3 id="æˆåŠŸå“åº”" tabindex="-1"><a class="header-anchor" href="#æˆåŠŸå“åº”">#</a> æˆåŠŸå“åº”</h3>
<div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre v-pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">"user"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"test_user"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"display_name"</span><span class="token operator">:</span> <span class="token string">"Test User"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"email"</span><span class="token operator">:</span> <span class="token string">"test@example.com"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"created_at"</span><span class="token operator">:</span> <span class="token string">"2024-01-01T00:00:00Z"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"updated_at"</span><span class="token operator">:</span> <span class="token string">"2024-01-01T00:00:00Z"</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é”™è¯¯å“åº”" tabindex="-1"><a class="header-anchor" href="#é”™è¯¯å“åº”">#</a> é”™è¯¯å“åº”</h3>
<div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre v-pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">"error"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">"code"</span><span class="token operator">:</span> <span class="token string">"INVALID_ARGUMENT"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"message"</span><span class="token operator">:</span> <span class="token string">"ç”¨æˆ·åä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"details"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">      <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">"field"</span><span class="token operator">:</span> <span class="token string">"name"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"nameå­—æ®µæ˜¯å¿…éœ€çš„"</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="çŠ¶æ€ç è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#çŠ¶æ€ç è¯´æ˜">#</a> çŠ¶æ€ç è¯´æ˜</h3>
<table>
<thead>
<tr>
<th>çŠ¶æ€ç </th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr>
<td><code v-pre>OK</code></td>
<td>è¯·æ±‚æˆåŠŸ</td>
<td>æ­£å¸¸æ“ä½œå®Œæˆ</td>
</tr>
<tr>
<td><code v-pre>INVALID_ARGUMENT</code></td>
<td>å‚æ•°é”™è¯¯</td>
<td>ç¼ºå°‘å¿…éœ€å­—æ®µ</td>
</tr>
<tr>
<td><code v-pre>NOT_FOUND</code></td>
<td>èµ„æºä¸å­˜åœ¨</td>
<td>ç”¨æˆ·ä¸å­˜åœ¨</td>
</tr>
<tr>
<td><code v-pre>ALREADY_EXISTS</code></td>
<td>èµ„æºå·²å­˜åœ¨</td>
<td>ç”¨æˆ·åé‡å¤</td>
</tr>
<tr>
<td><code v-pre>PERMISSION_DENIED</code></td>
<td>æƒé™ä¸è¶³</td>
<td>æ— æ“ä½œæƒé™</td>
</tr>
<tr>
<td><code v-pre>UNAUTHENTICATED</code></td>
<td>è®¤è¯å¤±è´¥</td>
<td>ç­¾åé”™è¯¯</td>
</tr>
<tr>
<td><code v-pre>INTERNAL</code></td>
<td>å†…éƒ¨é”™è¯¯</td>
<td>æœåŠ¡å™¨å¼‚å¸¸</td>
</tr>
</tbody>
</table>
<h2 id="ğŸ”„-åˆ†é¡µå’Œè¿‡æ»¤" tabindex="-1"><a class="header-anchor" href="#ğŸ”„-åˆ†é¡µå’Œè¿‡æ»¤">#</a> ğŸ”„ åˆ†é¡µå’Œè¿‡æ»¤</h2>
<h3 id="åˆ†é¡µå‚æ•°" tabindex="-1"><a class="header-anchor" href="#åˆ†é¡µå‚æ•°">#</a> åˆ†é¡µå‚æ•°</h3>
<p>å¤§å¤šæ•°åˆ—è¡¨APIæ”¯æŒåˆ†é¡µï¼š</p>
<div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre v-pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">"page"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">"page_size"</span><span class="token operator">:</span> <span class="token number">20</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åˆ†é¡µå“åº”" tabindex="-1"><a class="header-anchor" href="#åˆ†é¡µå“åº”">#</a> åˆ†é¡µå“åº”</h3>
<div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre v-pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">"users"</span><span class="token operator">:</span> <span class="token punctuation">[</span>...<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">"pagination"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">"page"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"page_size"</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"total_count"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"total_pages"</span><span class="token operator">:</span> <span class="token number">5</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¿‡æ»¤å‚æ•°" tabindex="-1"><a class="header-anchor" href="#è¿‡æ»¤å‚æ•°">#</a> è¿‡æ»¤å‚æ•°</h3>
<p>æ”¯æŒçš„è¿‡æ»¤æ¡ä»¶ï¼š</p>
<div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre v-pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">"status"</span><span class="token operator">:</span> <span class="token string">"active"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"created_after"</span><span class="token operator">:</span> <span class="token string">"2024-01-01T00:00:00Z"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"created_before"</span><span class="token operator">:</span> <span class="token string">"2024-12-31T23:59:59Z"</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“-æ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ğŸ“-æ•°æ®ç±»å‹">#</a> ğŸ“ æ•°æ®ç±»å‹</h2>
<h3 id="åŸºç¡€ç±»å‹" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€ç±»å‹">#</a> åŸºç¡€ç±»å‹</h3>
<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code v-pre>string</code></td>
<td>å­—ç¬¦ä¸²</td>
<td><code v-pre>&quot;example&quot;</code></td>
</tr>
<tr>
<td><code v-pre>int32</code></td>
<td>32ä½æ•´æ•°</td>
<td><code v-pre>123</code></td>
</tr>
<tr>
<td><code v-pre>int64</code></td>
<td>64ä½æ•´æ•°</td>
<td><code v-pre>1234567890</code></td>
</tr>
<tr>
<td><code v-pre>bool</code></td>
<td>å¸ƒå°”å€¼</td>
<td><code v-pre>true</code></td>
</tr>
<tr>
<td><code v-pre>timestamp</code></td>
<td>æ—¶é—´æˆ³</td>
<td><code v-pre>&quot;2024-01-01T00:00:00Z&quot;</code></td>
</tr>
</tbody>
</table>
<h3 id="æšä¸¾ç±»å‹" tabindex="-1"><a class="header-anchor" href="#æšä¸¾ç±»å‹">#</a> æšä¸¾ç±»å‹</h3>
<h4 id="userstatus" tabindex="-1"><a class="header-anchor" href="#userstatus">#</a> UserStatus</h4>
<div class="language-protobuf line-numbers-mode" data-highlighter="prismjs" data-ext="protobuf"><pre v-pre><code class="language-protobuf"><span class="line"><span class="token keyword">enum</span> <span class="token class-name">UserStatus</span> <span class="token punctuation">{</span></span>
<span class="line">  USER_STATUS_UNSPECIFIED <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">  USER_STATUS_ACTIVE <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">  USER_STATUS_INACTIVE <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></span>
<span class="line">  USER_STATUS_SUSPENDED <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="accesskeystatus" tabindex="-1"><a class="header-anchor" href="#accesskeystatus">#</a> AccessKeyStatus</h4>
<div class="language-protobuf line-numbers-mode" data-highlighter="prismjs" data-ext="protobuf"><pre v-pre><code class="language-protobuf"><span class="line"><span class="token keyword">enum</span> <span class="token class-name">AccessKeyStatus</span> <span class="token punctuation">{</span></span>
<span class="line">  ACCESS_KEY_STATUS_UNSPECIFIED <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">  ACCESS_KEY_STATUS_ACTIVE <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">  ACCESS_KEY_STATUS_INACTIVE <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="applicationtype" tabindex="-1"><a class="header-anchor" href="#applicationtype">#</a> ApplicationType</h4>
<div class="language-protobuf line-numbers-mode" data-highlighter="prismjs" data-ext="protobuf"><pre v-pre><code class="language-protobuf"><span class="line"><span class="token keyword">enum</span> <span class="token class-name">ApplicationType</span> <span class="token punctuation">{</span></span>
<span class="line">  APPLICATION_TYPE_UNSPECIFIED <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">  APPLICATION_TYPE_WEB <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">  APPLICATION_TYPE_MOBILE <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></span>
<span class="line">  APPLICATION_TYPE_API <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="line">  APPLICATION_TYPE_SPA <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="applicationstatus" tabindex="-1"><a class="header-anchor" href="#applicationstatus">#</a> ApplicationStatus</h4>
<div class="language-protobuf line-numbers-mode" data-highlighter="prismjs" data-ext="protobuf"><pre v-pre><code class="language-protobuf"><span class="line"><span class="token keyword">enum</span> <span class="token class-name">ApplicationStatus</span> <span class="token punctuation">{</span></span>
<span class="line">  APPLICATION_STATUS_UNSPECIFIED <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">  APPLICATION_STATUS_ACTIVE <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">  APPLICATION_STATUS_INACTIVE <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></span>
<span class="line">  APPLICATION_STATUS_SUSPENDED <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ› ï¸-å¼€å‘å·¥å…·" tabindex="-1"><a class="header-anchor" href="#ğŸ› ï¸-å¼€å‘å·¥å…·">#</a> ğŸ› ï¸ å¼€å‘å·¥å…·</h2>
<h3 id="protocol-bufferså®šä¹‰" tabindex="-1"><a class="header-anchor" href="#protocol-bufferså®šä¹‰">#</a> Protocol Bufferså®šä¹‰</h3>
<p>å®Œæ•´çš„protobufå®šä¹‰æ–‡ä»¶ï¼š</p>
<div class="language-protobuf line-numbers-mode" data-highlighter="prismjs" data-ext="protobuf"><pre v-pre><code class="language-protobuf"><span class="line"><span class="token keyword">syntax</span> <span class="token operator">=</span> <span class="token string">"proto3"</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">package</span> iam<span class="token punctuation">.</span>v1<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">option</span> go_package <span class="token operator">=</span> <span class="token string">"github.com/your-org/vgo/api/iam/v1"</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// IAMæœåŠ¡å®šä¹‰</span></span>
<span class="line"><span class="token keyword">service</span> <span class="token class-name">IAM</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// ç”¨æˆ·ç®¡ç†</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">CreateUser</span><span class="token punctuation">(</span><span class="token class-name">CreateUserRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">CreateUserResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">GetUser</span><span class="token punctuation">(</span><span class="token class-name">GetUserRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">GetUserResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">UpdateUser</span><span class="token punctuation">(</span><span class="token class-name">UpdateUserRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">UpdateUserResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">DeleteUser</span><span class="token punctuation">(</span><span class="token class-name">DeleteUserRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">DeleteUserResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">ListUsers</span><span class="token punctuation">(</span><span class="token class-name">ListUsersRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">ListUsersResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  </span>
<span class="line">  <span class="token comment">// ç­–ç•¥ç®¡ç†</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">CreatePolicy</span><span class="token punctuation">(</span><span class="token class-name">CreatePolicyRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">CreatePolicyResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">GetPolicy</span><span class="token punctuation">(</span><span class="token class-name">GetPolicyRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">GetPolicyResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">UpdatePolicy</span><span class="token punctuation">(</span><span class="token class-name">UpdatePolicyRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">UpdatePolicyResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">DeletePolicy</span><span class="token punctuation">(</span><span class="token class-name">DeletePolicyRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">DeletePolicyResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">ListPolicies</span><span class="token punctuation">(</span><span class="token class-name">ListPoliciesRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">ListPoliciesResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">AttachUserPolicy</span><span class="token punctuation">(</span><span class="token class-name">AttachUserPolicyRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">AttachUserPolicyResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">DetachUserPolicy</span><span class="token punctuation">(</span><span class="token class-name">DetachUserPolicyRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">DetachUserPolicyResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  </span>
<span class="line">  <span class="token comment">// è®¿é—®å¯†é’¥ç®¡ç†</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">CreateAccessKey</span><span class="token punctuation">(</span><span class="token class-name">CreateAccessKeyRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">CreateAccessKeyResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">ListAccessKeys</span><span class="token punctuation">(</span><span class="token class-name">ListAccessKeysRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">ListAccessKeysResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">UpdateAccessKey</span><span class="token punctuation">(</span><span class="token class-name">UpdateAccessKeyRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">UpdateAccessKeyResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">DeleteAccessKey</span><span class="token punctuation">(</span><span class="token class-name">DeleteAccessKeyRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">DeleteAccessKeyResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  </span>
<span class="line">  <span class="token comment">// åº”ç”¨ç®¡ç†</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">CreateApplication</span><span class="token punctuation">(</span><span class="token class-name">CreateApplicationRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">CreateApplicationResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">GetApplication</span><span class="token punctuation">(</span><span class="token class-name">GetApplicationRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">GetApplicationResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">UpdateApplication</span><span class="token punctuation">(</span><span class="token class-name">UpdateApplicationRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">UpdateApplicationResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">DeleteApplication</span><span class="token punctuation">(</span><span class="token class-name">DeleteApplicationRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">DeleteApplicationResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">ListApplications</span><span class="token punctuation">(</span><span class="token class-name">ListApplicationsRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">ListApplicationsResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  </span>
<span class="line">  <span class="token comment">// æƒé™éªŒè¯</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">CheckPermission</span><span class="token punctuation">(</span><span class="token class-name">CheckPermissionRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">CheckPermissionResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  </span>
<span class="line">  <span class="token comment">// å¼€å‘è€…è®¤è¯</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">CreateDeveloperVerification</span><span class="token punctuation">(</span><span class="token class-name">CreateDeveloperVerificationRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">CreateDeveloperVerificationResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">GetDeveloperVerification</span><span class="token punctuation">(</span><span class="token class-name">GetDeveloperVerificationRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">GetDeveloperVerificationResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">UpdateDeveloperVerification</span><span class="token punctuation">(</span><span class="token class-name">UpdateDeveloperVerificationRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">UpdateDeveloperVerificationResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">rpc</span> <span class="token function">ListDeveloperVerifications</span><span class="token punctuation">(</span><span class="token class-name">ListDeveloperVerificationsRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">ListDeveloperVerificationsResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å®¢æˆ·ç«¯sdk" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯sdk">#</a> å®¢æˆ·ç«¯SDK</h3>
<h4 id="goå®¢æˆ·ç«¯" tabindex="-1"><a class="header-anchor" href="#goå®¢æˆ·ç«¯">#</a> Goå®¢æˆ·ç«¯</h4>
<div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre v-pre><code class="language-go"><span class="line"><span class="token keyword">package</span> main</span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token string">"context"</span></span>
<span class="line">    <span class="token string">"log"</span></span>
<span class="line">    </span>
<span class="line">    <span class="token string">"google.golang.org/grpc"</span></span>
<span class="line">    <span class="token string">"google.golang.org/grpc/credentials/insecure"</span></span>
<span class="line">    </span>
<span class="line">    iamv1 <span class="token string">"github.com/your-org/vgo/api/iam/v1"</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// è¿æ¥åˆ°gRPCæœåŠ¡</span></span>
<span class="line">    conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> grpc<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"localhost:50051"</span><span class="token punctuation">,</span> grpc<span class="token punctuation">.</span><span class="token function">WithTransportCredentials</span><span class="token punctuation">(</span>insecure<span class="token punctuation">.</span><span class="token function">NewCredentials</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">        log<span class="token punctuation">.</span><span class="token function">Fatalf</span><span class="token punctuation">(</span><span class="token string">"è¿æ¥å¤±è´¥: %v"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">defer</span> conn<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// åˆ›å»ºå®¢æˆ·ç«¯</span></span>
<span class="line">    client <span class="token operator">:=</span> iamv1<span class="token punctuation">.</span><span class="token function">NewIAMClient</span><span class="token punctuation">(</span>conn<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// è°ƒç”¨API</span></span>
<span class="line">    resp<span class="token punctuation">,</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">CreateUser</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>iamv1<span class="token punctuation">.</span>CreateUserRequest<span class="token punctuation">{</span></span>
<span class="line">        Name<span class="token punctuation">:</span>        <span class="token string">"test_user"</span><span class="token punctuation">,</span></span>
<span class="line">        DisplayName<span class="token punctuation">:</span> <span class="token string">"Test User"</span><span class="token punctuation">,</span></span>
<span class="line">        Email<span class="token punctuation">:</span>       <span class="token string">"test@example.com"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">        log<span class="token punctuation">.</span><span class="token function">Fatalf</span><span class="token punctuation">(</span><span class="token string">"åˆ›å»ºç”¨æˆ·å¤±è´¥: %v"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"ç”¨æˆ·åˆ›å»ºæˆåŠŸ: %v"</span><span class="token punctuation">,</span> resp<span class="token punctuation">.</span>User<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="pythonå®¢æˆ·ç«¯" tabindex="-1"><a class="header-anchor" href="#pythonå®¢æˆ·ç«¯">#</a> Pythonå®¢æˆ·ç«¯</h4>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre v-pre><code class="language-python"><span class="line"><span class="token keyword">import</span> grpc</span>
<span class="line"><span class="token keyword">from</span> iam<span class="token punctuation">.</span>v1 <span class="token keyword">import</span> iam_pb2</span>
<span class="line"><span class="token keyword">from</span> iam<span class="token punctuation">.</span>v1 <span class="token keyword">import</span> iam_pb2_grpc</span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># è¿æ¥åˆ°gRPCæœåŠ¡</span></span>
<span class="line">    <span class="token keyword">with</span> grpc<span class="token punctuation">.</span>insecure_channel<span class="token punctuation">(</span><span class="token string">'localhost:50051'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> channel<span class="token punctuation">:</span></span>
<span class="line">        <span class="token comment"># åˆ›å»ºå®¢æˆ·ç«¯</span></span>
<span class="line">        stub <span class="token operator">=</span> iam_pb2_grpc<span class="token punctuation">.</span>IAMStub<span class="token punctuation">(</span>channel<span class="token punctuation">)</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment"># è°ƒç”¨API</span></span>
<span class="line">        request <span class="token operator">=</span> iam_pb2<span class="token punctuation">.</span>CreateUserRequest<span class="token punctuation">(</span></span>
<span class="line">            name<span class="token operator">=</span><span class="token string">'test_user'</span><span class="token punctuation">,</span></span>
<span class="line">            display_name<span class="token operator">=</span><span class="token string">'Test User'</span><span class="token punctuation">,</span></span>
<span class="line">            email<span class="token operator">=</span><span class="token string">'test@example.com'</span></span>
<span class="line">        <span class="token punctuation">)</span></span>
<span class="line">        </span>
<span class="line">        response <span class="token operator">=</span> stub<span class="token punctuation">.</span>CreateUser<span class="token punctuation">(</span>request<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'ç”¨æˆ·åˆ›å»ºæˆåŠŸ: </span><span class="token interpolation"><span class="token punctuation">{</span>response<span class="token punctuation">.</span>user<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span></span>
<span class="line">    main<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“š-è¯¦ç»†æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#ğŸ“š-è¯¦ç»†æ–‡æ¡£">#</a> ğŸ“š è¯¦ç»†æ–‡æ¡£</h2>
<p>ç‚¹å‡»ä»¥ä¸‹é“¾æ¥æŸ¥çœ‹å„æ¨¡å—çš„è¯¦ç»†APIæ–‡æ¡£ï¼š</p>
<ul>
<li><a href="/api/user-management" target="_blank" rel="noopener noreferrer">ç”¨æˆ·ç®¡ç†API</a> - ç”¨æˆ·çš„åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤æ“ä½œ</li>
<li><a href="/api/policy-management" target="_blank" rel="noopener noreferrer">ç­–ç•¥ç®¡ç†API</a> - æƒé™ç­–ç•¥çš„ç®¡ç†å’Œç»‘å®š</li>
<li><a href="/api/access-keys" target="_blank" rel="noopener noreferrer">è®¿é—®å¯†é’¥API</a> - APIè®¿é—®å¯†é’¥çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†</li>
<li><a href="/api/applications" target="_blank" rel="noopener noreferrer">åº”ç”¨ç®¡ç†API</a> - OAuth2åº”ç”¨çš„æ³¨å†Œå’Œç®¡ç†</li>
<li><a href="/api/permissions" target="_blank" rel="noopener noreferrer">æƒé™éªŒè¯API</a> - æƒé™æ£€æŸ¥å’ŒéªŒè¯</li>
<li><a href="/api/developer-verification" target="_blank" rel="noopener noreferrer">å¼€å‘è€…è®¤è¯API</a> - å¼€å‘è€…èº«ä»½éªŒè¯æµç¨‹</li>
</ul>
<h2 id="ğŸ”§-æµ‹è¯•å·¥å…·" tabindex="-1"><a class="header-anchor" href="#ğŸ”§-æµ‹è¯•å·¥å…·">#</a> ğŸ”§ æµ‹è¯•å·¥å…·</h2>
<h3 id="postmané›†åˆ" tabindex="-1"><a class="header-anchor" href="#postmané›†åˆ">#</a> Postmané›†åˆ</h3>
<p>æˆ‘ä»¬æä¾›äº†å®Œæ•´çš„Postmané›†åˆï¼ŒåŒ…å«æ‰€æœ‰APIçš„ç¤ºä¾‹è¯·æ±‚ï¼š</p>
<div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre v-pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">"info"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"VGO IAM API"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"VGOå¾®æœåŠ¡IAM APIé›†åˆ"</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">"item"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"ç”¨æˆ·ç®¡ç†"</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">"item"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"åˆ›å»ºç”¨æˆ·"</span><span class="token punctuation">,</span></span>
<span class="line">          <span class="token property">"request"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">"method"</span><span class="token operator">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">"header"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">"body"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">              <span class="token property">"mode"</span><span class="token operator">:</span> <span class="token string">"raw"</span><span class="token punctuation">,</span></span>
<span class="line">              <span class="token property">"raw"</span><span class="token operator">:</span> <span class="token string">"{\n  \"name\": \"test_user\",\n  \"display_name\": \"Test User\",\n  \"email\": \"test@example.com\"\n}"</span></span>
<span class="line">            <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">"url"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">              <span class="token property">"raw"</span><span class="token operator">:</span> <span class="token string">"{{base_url}}/iam.v1.IAM/CreateUser"</span><span class="token punctuation">,</span></span>
<span class="line">              <span class="token property">"host"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"{{base_url}}"</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"iam.v1.IAM"</span><span class="token punctuation">,</span> <span class="token string">"CreateUser"</span><span class="token punctuation">]</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">          <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è‡ªåŠ¨åŒ–æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#è‡ªåŠ¨åŒ–æµ‹è¯•">#</a> è‡ªåŠ¨åŒ–æµ‹è¯•</h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># APIæµ‹è¯•è„šæœ¬</span></span>
<span class="line"><span class="token assign-left variable">BASE_URL</span><span class="token operator">=</span><span class="token string">"localhost:50051"</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æµ‹è¯•åˆ›å»ºç”¨æˆ·</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">"æµ‹è¯•åˆ›å»ºç”¨æˆ·..."</span></span>
<span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "name": "test_user",</span>
<span class="line">  "display_name": "Test User",</span>
<span class="line">  "email": "test@example.com"</span>
<span class="line">}'</span> <span class="token variable">$BASE_URL</span> iam.v1.IAM/CreateUser</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æµ‹è¯•è·å–ç”¨æˆ·</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">"æµ‹è¯•è·å–ç”¨æˆ·..."</span></span>
<span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "name": "test_user"</span>
<span class="line">}'</span> <span class="token variable">$BASE_URL</span> iam.v1.IAM/GetUser</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æµ‹è¯•åˆ é™¤ç”¨æˆ·</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">"æµ‹è¯•åˆ é™¤ç”¨æˆ·..."</span></span>
<span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "name": "test_user"</span>
<span class="line">}'</span> <span class="token variable">$BASE_URL</span> iam.v1.IAM/DeleteUser</span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">"æµ‹è¯•å®Œæˆ"</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸš¨-é”™è¯¯å¤„ç†" tabindex="-1"><a class="header-anchor" href="#ğŸš¨-é”™è¯¯å¤„ç†">#</a> ğŸš¨ é”™è¯¯å¤„ç†</h2>
<h3 id="é”™è¯¯ç å¯¹ç…§è¡¨" tabindex="-1"><a class="header-anchor" href="#é”™è¯¯ç å¯¹ç…§è¡¨">#</a> é”™è¯¯ç å¯¹ç…§è¡¨</h3>
<table>
<thead>
<tr>
<th>é”™è¯¯ç </th>
<th>HTTPçŠ¶æ€ç </th>
<th>è¯´æ˜</th>
<th>è§£å†³æ–¹æ¡ˆ</th>
</tr>
</thead>
<tbody>
<tr>
<td><code v-pre>OK</code></td>
<td>200</td>
<td>æˆåŠŸ</td>
<td>-</td>
</tr>
<tr>
<td><code v-pre>INVALID_ARGUMENT</code></td>
<td>400</td>
<td>å‚æ•°é”™è¯¯</td>
<td>æ£€æŸ¥è¯·æ±‚å‚æ•°</td>
</tr>
<tr>
<td><code v-pre>UNAUTHENTICATED</code></td>
<td>401</td>
<td>è®¤è¯å¤±è´¥</td>
<td>æ£€æŸ¥è®¿é—®å¯†é’¥</td>
</tr>
<tr>
<td><code v-pre>PERMISSION_DENIED</code></td>
<td>403</td>
<td>æƒé™ä¸è¶³</td>
<td>æ£€æŸ¥ç”¨æˆ·æƒé™</td>
</tr>
<tr>
<td><code v-pre>NOT_FOUND</code></td>
<td>404</td>
<td>èµ„æºä¸å­˜åœ¨</td>
<td>ç¡®è®¤èµ„æºID</td>
</tr>
<tr>
<td><code v-pre>ALREADY_EXISTS</code></td>
<td>409</td>
<td>èµ„æºå·²å­˜åœ¨</td>
<td>ä½¿ç”¨ä¸åŒçš„æ ‡è¯†ç¬¦</td>
</tr>
<tr>
<td><code v-pre>INTERNAL</code></td>
<td>500</td>
<td>å†…éƒ¨é”™è¯¯</td>
<td>è”ç³»æŠ€æœ¯æ”¯æŒ</td>
</tr>
<tr>
<td><code v-pre>UNAVAILABLE</code></td>
<td>503</td>
<td>æœåŠ¡ä¸å¯ç”¨</td>
<td>ç¨åé‡è¯•</td>
</tr>
</tbody>
</table>
<h3 id="é‡è¯•ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#é‡è¯•ç­–ç•¥">#</a> é‡è¯•ç­–ç•¥</h3>
<div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre v-pre><code class="language-go"><span class="line"><span class="token comment">// æŒ‡æ•°é€€é¿é‡è¯•</span></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">retryWithBackoff</span><span class="token punctuation">(</span>fn <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span><span class="token punctuation">,</span> maxRetries <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> maxRetries<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> err <span class="token operator">:=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token boolean">nil</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// æŒ‡æ•°é€€é¿</span></span>
<span class="line">        time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">Duration</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token function">float64</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°"</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“ˆ-æ€§èƒ½ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#ğŸ“ˆ-æ€§èƒ½ä¼˜åŒ–">#</a> ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–</h2>
<h3 id="è¿æ¥æ± " tabindex="-1"><a class="header-anchor" href="#è¿æ¥æ± ">#</a> è¿æ¥æ± </h3>
<div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre v-pre><code class="language-go"><span class="line"><span class="token comment">// gRPCè¿æ¥æ± </span></span>
<span class="line"><span class="token keyword">type</span> ConnectionPool <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">    connections <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">*</span>grpc<span class="token punctuation">.</span>ClientConn</span>
<span class="line">    current     <span class="token builtin">int</span></span>
<span class="line">    mutex       sync<span class="token punctuation">.</span>Mutex</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>p <span class="token operator">*</span>ConnectionPool<span class="token punctuation">)</span> <span class="token function">GetConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>grpc<span class="token punctuation">.</span>ClientConn <span class="token punctuation">{</span></span>
<span class="line">    p<span class="token punctuation">.</span>mutex<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">defer</span> p<span class="token punctuation">.</span>mutex<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    conn <span class="token operator">:=</span> p<span class="token punctuation">.</span>connections<span class="token punctuation">[</span>p<span class="token punctuation">.</span>current<span class="token punctuation">]</span></span>
<span class="line">    p<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>current <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token function">len</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>connections<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> conn</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ‰¹é‡æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#æ‰¹é‡æ“ä½œ">#</a> æ‰¹é‡æ“ä½œ</h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token comment"># æ‰¹é‡åˆ›å»ºç”¨æˆ·</span></span>
<span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "users": [</span>
<span class="line">    {"name": "user1", "email": "user1@example.com"},</span>
<span class="line">    {"name": "user2", "email": "user2@example.com"},</span>
<span class="line">    {"name": "user3", "email": "user3@example.com"}</span>
<span class="line">  ]</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/BatchCreateUsers</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ”-ç›‘æ§å’Œè°ƒè¯•" tabindex="-1"><a class="header-anchor" href="#ğŸ”-ç›‘æ§å’Œè°ƒè¯•">#</a> ğŸ” ç›‘æ§å’Œè°ƒè¯•</h2>
<h3 id="å¯ç”¨grpcæ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#å¯ç”¨grpcæ—¥å¿—">#</a> å¯ç”¨gRPCæ—¥å¿—</h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token comment"># è®¾ç½®gRPCæ—¥å¿—çº§åˆ«</span></span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">GRPC_GO_LOG_VERBOSITY_LEVEL</span><span class="token operator">=</span><span class="token number">99</span></span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">GRPC_GO_LOG_SEVERITY_LEVEL</span><span class="token operator">=</span>info</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨grpcåå°„" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨grpcåå°„">#</a> ä½¿ç”¨gRPCåå°„</h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token comment"># å¯ç”¨åå°„åå¯ä»¥åŠ¨æ€å‘ç°æœåŠ¡</span></span>
<span class="line">grpcurl <span class="token parameter variable">-plaintext</span> localhost:50051 list</span>
<span class="line">grpcurl <span class="token parameter variable">-plaintext</span> localhost:50051 describe iam.v1.IAM</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ€§èƒ½æŒ‡æ ‡" tabindex="-1"><a class="header-anchor" href="#æ€§èƒ½æŒ‡æ ‡">#</a> æ€§èƒ½æŒ‡æ ‡</h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token comment"># æŸ¥çœ‹gRPCæŒ‡æ ‡</span></span>
<span class="line"><span class="token function">curl</span> http://localhost:9090/metrics <span class="token operator">|</span> <span class="token function">grep</span> grpc</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><hr>
<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>å»ºè®®åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨grpcurlè¿›è¡ŒAPIæµ‹è¯•ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å®˜æ–¹SDKã€‚</p>
</div>
<div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<ul>
<li>æ‰€æœ‰APIè°ƒç”¨éƒ½éœ€è¦æ­£ç¡®çš„è®¤è¯</li>
<li>æ³¨æ„APIçš„é€Ÿç‡é™åˆ¶</li>
<li>ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨TLSåŠ å¯†</li>
</ul>
</div>
</div></template>



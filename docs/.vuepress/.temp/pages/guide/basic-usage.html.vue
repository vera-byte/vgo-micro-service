<template><div><h1 id="åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ä½¿ç”¨">#</a> åŸºæœ¬ä½¿ç”¨</h1>
<p>æœ¬æŒ‡å—å°†å¸¦æ‚¨äº†è§£VGOå¾®æœåŠ¡çš„æ ¸å¿ƒåŠŸèƒ½å’ŒåŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼ŒåŒ…æ‹¬ç”¨æˆ·ç®¡ç†ã€æƒé™æ§åˆ¶ã€åº”ç”¨ç®¡ç†ç­‰æ ¸å¿ƒç‰¹æ€§ã€‚</p>
<h2 id="ğŸ¯-åŠŸèƒ½æ¦‚è§ˆ" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-åŠŸèƒ½æ¦‚è§ˆ">#</a> ğŸ¯ åŠŸèƒ½æ¦‚è§ˆ</h2>
<p>VGOå¾®æœåŠ¡æä¾›ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<ul>
<li><strong>ç”¨æˆ·ç®¡ç†</strong>: åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤ç”¨æˆ·</li>
<li><strong>ç­–ç•¥ç®¡ç†</strong>: å®šä¹‰å’Œç®¡ç†æƒé™ç­–ç•¥</li>
<li><strong>è®¿é—®å¯†é’¥ç®¡ç†</strong>: ç”Ÿæˆå’Œç®¡ç†APIè®¿é—®å¯†é’¥</li>
<li><strong>åº”ç”¨ç®¡ç†</strong>: OAuth2åº”ç”¨æ³¨å†Œå’Œç®¡ç†</li>
<li><strong>æƒé™éªŒè¯</strong>: ç»†ç²’åº¦çš„æƒé™æ£€æŸ¥</li>
<li><strong>å¼€å‘è€…è®¤è¯</strong>: ä¸ªäººå’Œä¼ä¸šå¼€å‘è€…èº«ä»½éªŒè¯</li>
</ul>
<h2 id="ğŸ–¥ï¸-ä½¿ç”¨è°ƒè¯•ç•Œé¢" tabindex="-1"><a class="header-anchor" href="#ğŸ–¥ï¸-ä½¿ç”¨è°ƒè¯•ç•Œé¢">#</a> ğŸ–¥ï¸ ä½¿ç”¨è°ƒè¯•ç•Œé¢</h2>
<h3 id="è®¿é—®è°ƒè¯•ç•Œé¢" tabindex="-1"><a class="header-anchor" href="#è®¿é—®è°ƒè¯•ç•Œé¢">#</a> è®¿é—®è°ƒè¯•ç•Œé¢</h3>
<p>å¯åŠ¨æœåŠ¡åï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—®è°ƒè¯•ç•Œé¢ï¼š</p>
<div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre v-pre><code class="language-text"><span class="line">http://localhost:8080</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>è°ƒè¯•ç•Œé¢æä¾›äº†å‹å¥½çš„Webç•Œé¢æ¥ç®¡ç†æ‰€æœ‰åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ç”¨æˆ·ç®¡ç†é¡µé¢</strong>: åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ç”¨æˆ·</li>
<li><strong>ç­–ç•¥ç®¡ç†é¡µé¢</strong>: ç®¡ç†æƒé™ç­–ç•¥</li>
<li><strong>è®¿é—®å¯†é’¥é¡µé¢</strong>: ç”Ÿæˆå’Œç®¡ç†APIå¯†é’¥</li>
<li><strong>åº”ç”¨ç®¡ç†é¡µé¢</strong>: æ³¨å†Œå’Œç®¡ç†OAuth2åº”ç”¨</li>
<li><strong>æƒé™æ£€æŸ¥é¡µé¢</strong>: æµ‹è¯•æƒé™éªŒè¯</li>
</ul>
<h3 id="ç•Œé¢åŠŸèƒ½è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#ç•Œé¢åŠŸèƒ½è¯´æ˜">#</a> ç•Œé¢åŠŸèƒ½è¯´æ˜</h3>
<h4 id="_1-ç”¨æˆ·ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_1-ç”¨æˆ·ç®¡ç†">#</a> 1. ç”¨æˆ·ç®¡ç†</h4>
<ul>
<li><strong>åˆ›å»ºç”¨æˆ·</strong>: å¡«å†™ç”¨æˆ·åã€æ˜¾ç¤ºåç§°ã€é‚®ç®±ç­‰ä¿¡æ¯</li>
<li><strong>æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨</strong>: æ”¯æŒåˆ†é¡µå’Œæœç´¢</li>
<li><strong>ç¼–è¾‘ç”¨æˆ·</strong>: ä¿®æ”¹ç”¨æˆ·åŸºæœ¬ä¿¡æ¯</li>
<li><strong>åˆ é™¤ç”¨æˆ·</strong>: åˆ é™¤ä¸éœ€è¦çš„ç”¨æˆ·è´¦æˆ·</li>
</ul>
<h4 id="_2-ç­–ç•¥ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_2-ç­–ç•¥ç®¡ç†">#</a> 2. ç­–ç•¥ç®¡ç†</h4>
<ul>
<li><strong>åˆ›å»ºç­–ç•¥</strong>: å®šä¹‰JSONæ ¼å¼çš„æƒé™ç­–ç•¥</li>
<li><strong>ç­–ç•¥æ¨¡æ¿</strong>: æä¾›å¸¸ç”¨ç­–ç•¥æ¨¡æ¿</li>
<li><strong>ç­–ç•¥ç»‘å®š</strong>: å°†ç­–ç•¥ç»‘å®šåˆ°ç”¨æˆ·</li>
<li><strong>ç­–ç•¥éªŒè¯</strong>: éªŒè¯ç­–ç•¥è¯­æ³•æ­£ç¡®æ€§</li>
</ul>
<h4 id="_3-è®¿é—®å¯†é’¥ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_3-è®¿é—®å¯†é’¥ç®¡ç†">#</a> 3. è®¿é—®å¯†é’¥ç®¡ç†</h4>
<ul>
<li><strong>ç”Ÿæˆå¯†é’¥</strong>: ä¸ºç”¨æˆ·ç”ŸæˆAPIè®¿é—®å¯†é’¥</li>
<li><strong>å¯†é’¥çŠ¶æ€</strong>: å¯ç”¨/ç¦ç”¨è®¿é—®å¯†é’¥</li>
<li><strong>å¯†é’¥è½®æ¢</strong>: å®šæœŸæ›´æ–°è®¿é—®å¯†é’¥</li>
<li><strong>ä½¿ç”¨ç»Ÿè®¡</strong>: æŸ¥çœ‹å¯†é’¥ä½¿ç”¨æƒ…å†µ</li>
</ul>
<h4 id="_4-åº”ç”¨ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_4-åº”ç”¨ç®¡ç†">#</a> 4. åº”ç”¨ç®¡ç†</h4>
<ul>
<li><strong>æ³¨å†Œåº”ç”¨</strong>: åˆ›å»ºOAuth2åº”ç”¨</li>
<li><strong>åº”ç”¨é…ç½®</strong>: è®¾ç½®å›è°ƒURLã€å…è®¸æ¥æºç­‰</li>
<li><strong>åº”ç”¨ç±»å‹</strong>: æ”¯æŒWebã€ç§»åŠ¨ã€APIã€SPAç­‰ç±»å‹</li>
<li><strong>åº”ç”¨çŠ¶æ€</strong>: ç®¡ç†åº”ç”¨çš„æ¿€æ´»çŠ¶æ€</li>
</ul>
<h2 id="ğŸ”§-ä½¿ç”¨grpc-api" tabindex="-1"><a class="header-anchor" href="#ğŸ”§-ä½¿ç”¨grpc-api">#</a> ğŸ”§ ä½¿ç”¨gRPC API</h2>
<h3 id="å®‰è£…grpcurlå·¥å…·" tabindex="-1"><a class="header-anchor" href="#å®‰è£…grpcurlå·¥å…·">#</a> å®‰è£…grpcurlå·¥å…·</h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token comment"># ä½¿ç”¨Goå®‰è£…</span></span>
<span class="line">go <span class="token function">install</span> github.com/fullstorydev/grpcurl/cmd/grpcurl@latest</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æˆ–ä½¿ç”¨åŒ…ç®¡ç†å™¨</span></span>
<span class="line"><span class="token comment"># macOS</span></span>
<span class="line">brew <span class="token function">install</span> grpcurl</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Ubuntu/Debian</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> grpcurl</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç”¨æˆ·ç®¡ç†api" tabindex="-1"><a class="header-anchor" href="#ç”¨æˆ·ç®¡ç†api">#</a> ç”¨æˆ·ç®¡ç†API</h3>
<h4 id="åˆ›å»ºç”¨æˆ·" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºç”¨æˆ·">#</a> åˆ›å»ºç”¨æˆ·</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "name": "john_doe",</span>
<span class="line">  "display_name": "John Doe",</span>
<span class="line">  "email": "john@example.com"</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/CreateUser</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å“åº”ç¤ºä¾‹ï¼š</p>
<div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre v-pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">"user"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"john_doe"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"display_name"</span><span class="token operator">:</span> <span class="token string">"John Doe"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"email"</span><span class="token operator">:</span> <span class="token string">"john@example.com"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"created_at"</span><span class="token operator">:</span> <span class="token string">"2024-01-01T00:00:00Z"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"updated_at"</span><span class="token operator">:</span> <span class="token string">"2024-01-01T00:00:00Z"</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è·å–ç”¨æˆ·ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#è·å–ç”¨æˆ·ä¿¡æ¯">#</a> è·å–ç”¨æˆ·ä¿¡æ¯</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "name": "john_doe"</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/GetUser</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ›´æ–°ç”¨æˆ·ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#æ›´æ–°ç”¨æˆ·ä¿¡æ¯">#</a> æ›´æ–°ç”¨æˆ·ä¿¡æ¯</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "name": "john_doe",</span>
<span class="line">  "display_name": "John Smith",</span>
<span class="line">  "email": "john.smith@example.com"</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/UpdateUser</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ é™¤ç”¨æˆ·" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤ç”¨æˆ·">#</a> åˆ é™¤ç”¨æˆ·</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "name": "john_doe"</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/DeleteUser</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è·å–ç”¨æˆ·åˆ—è¡¨" tabindex="-1"><a class="header-anchor" href="#è·å–ç”¨æˆ·åˆ—è¡¨">#</a> è·å–ç”¨æˆ·åˆ—è¡¨</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "page": 1,</span>
<span class="line">  "page_size": 10</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/ListUsers</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç­–ç•¥ç®¡ç†api" tabindex="-1"><a class="header-anchor" href="#ç­–ç•¥ç®¡ç†api">#</a> ç­–ç•¥ç®¡ç†API</h3>
<h4 id="åˆ›å»ºç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºç­–ç•¥">#</a> åˆ›å»ºç­–ç•¥</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "name": "read_only_policy",</span>
<span class="line">  "description": "åªè¯»æƒé™ç­–ç•¥",</span>
<span class="line">  "policy_document": "{\"Version\":\"2025-01-01\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"iam:GetUser\",\"iam:ListUsers\"],\"Resource\":[\"*\"]}]}"</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/CreatePolicy</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è·å–ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#è·å–ç­–ç•¥">#</a> è·å–ç­–ç•¥</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "name": "read_only_policy"</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/GetPolicy</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç»‘å®šç­–ç•¥åˆ°ç”¨æˆ·" tabindex="-1"><a class="header-anchor" href="#ç»‘å®šç­–ç•¥åˆ°ç”¨æˆ·">#</a> ç»‘å®šç­–ç•¥åˆ°ç”¨æˆ·</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "user_name": "john_doe",</span>
<span class="line">  "policy_name": "read_only_policy"</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/AttachUserPolicy</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è§£ç»‘ç”¨æˆ·ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#è§£ç»‘ç”¨æˆ·ç­–ç•¥">#</a> è§£ç»‘ç”¨æˆ·ç­–ç•¥</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "user_name": "john_doe",</span>
<span class="line">  "policy_name": "read_only_policy"</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/DetachUserPolicy</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è®¿é—®å¯†é’¥ç®¡ç†api" tabindex="-1"><a class="header-anchor" href="#è®¿é—®å¯†é’¥ç®¡ç†api">#</a> è®¿é—®å¯†é’¥ç®¡ç†API</h3>
<h4 id="åˆ›å»ºè®¿é—®å¯†é’¥" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºè®¿é—®å¯†é’¥">#</a> åˆ›å»ºè®¿é—®å¯†é’¥</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "user_name": "john_doe",</span>
<span class="line">  "description": "APIè®¿é—®å¯†é’¥"</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/CreateAccessKey</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å“åº”ç¤ºä¾‹ï¼š</p>
<div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre v-pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">"access_key"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">"access_key_id"</span><span class="token operator">:</span> <span class="token string">"AKIA1234567890EXAMPLE"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"secret_access_key"</span><span class="token operator">:</span> <span class="token string">"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"status"</span><span class="token operator">:</span> <span class="token string">"active"</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">"created_at"</span><span class="token operator">:</span> <span class="token string">"2024-01-01T00:00:00Z"</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è·å–è®¿é—®å¯†é’¥åˆ—è¡¨" tabindex="-1"><a class="header-anchor" href="#è·å–è®¿é—®å¯†é’¥åˆ—è¡¨">#</a> è·å–è®¿é—®å¯†é’¥åˆ—è¡¨</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "user_name": "john_doe"</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/ListAccessKeys</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ›´æ–°è®¿é—®å¯†é’¥çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#æ›´æ–°è®¿é—®å¯†é’¥çŠ¶æ€">#</a> æ›´æ–°è®¿é—®å¯†é’¥çŠ¶æ€</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "access_key_id": "AKIA1234567890EXAMPLE",</span>
<span class="line">  "status": "inactive"</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/UpdateAccessKey</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ é™¤è®¿é—®å¯†é’¥" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤è®¿é—®å¯†é’¥">#</a> åˆ é™¤è®¿é—®å¯†é’¥</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "access_key_id": "AKIA1234567890EXAMPLE"</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/DeleteAccessKey</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åº”ç”¨ç®¡ç†api" tabindex="-1"><a class="header-anchor" href="#åº”ç”¨ç®¡ç†api">#</a> åº”ç”¨ç®¡ç†API</h3>
<h4 id="åˆ›å»ºåº”ç”¨" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºåº”ç”¨">#</a> åˆ›å»ºåº”ç”¨</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "app_name": "MyWebApp",</span>
<span class="line">  "app_description": "æˆ‘çš„Webåº”ç”¨",</span>
<span class="line">  "app_type": "web",</span>
<span class="line">  "app_website": "https://myapp.example.com",</span>
<span class="line">  "callback_urls": ["https://myapp.example.com/callback"],</span>
<span class="line">  "allowed_origins": ["https://myapp.example.com"]</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/CreateApplication</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è·å–åº”ç”¨ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#è·å–åº”ç”¨ä¿¡æ¯">#</a> è·å–åº”ç”¨ä¿¡æ¯</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "app_id": 1</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/GetApplication</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ›´æ–°åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#æ›´æ–°åº”ç”¨">#</a> æ›´æ–°åº”ç”¨</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "app_id": 1,</span>
<span class="line">  "app_name": "UpdatedWebApp",</span>
<span class="line">  "app_description": "æ›´æ–°åçš„Webåº”ç”¨",</span>
<span class="line">  "app_type": "spa"</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/UpdateApplication</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è·å–åº”ç”¨åˆ—è¡¨" tabindex="-1"><a class="header-anchor" href="#è·å–åº”ç”¨åˆ—è¡¨">#</a> è·å–åº”ç”¨åˆ—è¡¨</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "user_name": "john_doe",</span>
<span class="line">  "status": "active",</span>
<span class="line">  "page": 1,</span>
<span class="line">  "page_size": 10</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/ListApplications</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ é™¤åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤åº”ç”¨">#</a> åˆ é™¤åº”ç”¨</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "app_id": 1</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/DeleteApplication</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æƒé™éªŒè¯api" tabindex="-1"><a class="header-anchor" href="#æƒé™éªŒè¯api">#</a> æƒé™éªŒè¯API</h3>
<h4 id="æ£€æŸ¥æƒé™" tabindex="-1"><a class="header-anchor" href="#æ£€æŸ¥æƒé™">#</a> æ£€æŸ¥æƒé™</h4>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">'{</span>
<span class="line">  "user_name": "john_doe",</span>
<span class="line">  "action": "iam:GetUser",</span>
<span class="line">  "resource": "*"</span>
<span class="line">}'</span> localhost:50051 iam.v1.IAM/CheckPermission</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å“åº”ç¤ºä¾‹ï¼š</p>
<div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre v-pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">"allowed"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">"reason"</span><span class="token operator">:</span> <span class="token string">"User has required permissions"</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ”-æƒé™ç­–ç•¥è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#ğŸ”-æƒé™ç­–ç•¥è¯­æ³•">#</a> ğŸ” æƒé™ç­–ç•¥è¯­æ³•</h2>
<h3 id="ç­–ç•¥æ–‡æ¡£ç»“æ„" tabindex="-1"><a class="header-anchor" href="#ç­–ç•¥æ–‡æ¡£ç»“æ„">#</a> ç­–ç•¥æ–‡æ¡£ç»“æ„</h3>
<div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre v-pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">"Version"</span><span class="token operator">:</span> <span class="token string">"2025-01-01"</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">"Statement"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">"Effect"</span><span class="token operator">:</span> <span class="token string">"Allow"</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">"Action"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token string">"iam:GetUser"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">"iam:ListUsers"</span></span>
<span class="line">      <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">"Resource"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"*"</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç­–ç•¥å…ƒç´ è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#ç­–ç•¥å…ƒç´ è¯´æ˜">#</a> ç­–ç•¥å…ƒç´ è¯´æ˜</h3>
<ul>
<li><strong>Version</strong>: ç­–ç•¥è¯­è¨€ç‰ˆæœ¬</li>
<li><strong>Statement</strong>: æƒé™å£°æ˜æ•°ç»„</li>
<li><strong>Effect</strong>: æƒé™æ•ˆæœï¼ˆAllow/Denyï¼‰</li>
<li><strong>Action</strong>: å…è®¸æˆ–æ‹’ç»çš„æ“ä½œ</li>
<li><strong>Resource</strong>: æ“ä½œçš„èµ„æºèŒƒå›´</li>
</ul>
<h3 id="å¸¸ç”¨ç­–ç•¥ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨ç­–ç•¥ç¤ºä¾‹">#</a> å¸¸ç”¨ç­–ç•¥ç¤ºä¾‹</h3>
<h4 id="_1-ç®¡ç†å‘˜ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_1-ç®¡ç†å‘˜ç­–ç•¥">#</a> 1. ç®¡ç†å‘˜ç­–ç•¥</h4>
<div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre v-pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">"Version"</span><span class="token operator">:</span> <span class="token string">"2025-01-01"</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">"Statement"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">"Effect"</span><span class="token operator">:</span> <span class="token string">"Allow"</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">"Action"</span><span class="token operator">:</span> <span class="token string">"*"</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">"Resource"</span><span class="token operator">:</span> <span class="token string">"*"</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-åªè¯»ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_2-åªè¯»ç­–ç•¥">#</a> 2. åªè¯»ç­–ç•¥</h4>
<div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre v-pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">"Version"</span><span class="token operator">:</span> <span class="token string">"2025-01-01"</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">"Statement"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">"Effect"</span><span class="token operator">:</span> <span class="token string">"Allow"</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">"Action"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token string">"iam:GetUser"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">"iam:ListUsers"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">"iam:GetPolicy"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">"iam:ListPolicies"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">"iam:GetApplication"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">"iam:ListApplications"</span></span>
<span class="line">      <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">"Resource"</span><span class="token operator">:</span> <span class="token string">"*"</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-ç”¨æˆ·è‡ªç®¡ç†ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_3-ç”¨æˆ·è‡ªç®¡ç†ç­–ç•¥">#</a> 3. ç”¨æˆ·è‡ªç®¡ç†ç­–ç•¥</h4>
<div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre v-pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">"Version"</span><span class="token operator">:</span> <span class="token string">"2025-01-01"</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">"Statement"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">"Effect"</span><span class="token operator">:</span> <span class="token string">"Allow"</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">"Action"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token string">"iam:GetUser"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">"iam:UpdateUser"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">"iam:CreateAccessKey"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">"iam:ListAccessKeys"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">"iam:UpdateAccessKey"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">"iam:DeleteAccessKey"</span></span>
<span class="line">      <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">"Resource"</span><span class="token operator">:</span> <span class="token string">"arn:iam::user/${aws:username}"</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-åº”ç”¨ç®¡ç†ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_4-åº”ç”¨ç®¡ç†ç­–ç•¥">#</a> 4. åº”ç”¨ç®¡ç†ç­–ç•¥</h4>
<div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre v-pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">"Version"</span><span class="token operator">:</span> <span class="token string">"2025-01-01"</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">"Statement"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">"Effect"</span><span class="token operator">:</span> <span class="token string">"Allow"</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">"Action"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token string">"iam:CreateApplication"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">"iam:GetApplication"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">"iam:UpdateApplication"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">"iam:DeleteApplication"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">"iam:ListApplications"</span></span>
<span class="line">      <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">"Resource"</span><span class="token operator">:</span> <span class="token string">"*"</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ”‘-apiè®¤è¯" tabindex="-1"><a class="header-anchor" href="#ğŸ”‘-apiè®¤è¯">#</a> ğŸ”‘ APIè®¤è¯</h2>
<h3 id="ä½¿ç”¨è®¿é—®å¯†é’¥è®¤è¯" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨è®¿é—®å¯†é’¥è®¤è¯">#</a> ä½¿ç”¨è®¿é—®å¯†é’¥è®¤è¯</h3>
<p>åœ¨è°ƒç”¨APIæ—¶ï¼Œéœ€è¦ä½¿ç”¨è®¿é—®å¯†é’¥è¿›è¡Œè®¤è¯ï¼š</p>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token comment"># è®¾ç½®è®¤è¯å¤´</span></span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">ACCESS_KEY_ID</span><span class="token operator">=</span><span class="token string">"your_access_key_id"</span></span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">SECRET_ACCESS_KEY</span><span class="token operator">=</span><span class="token string">"your_secret_access_key"</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ä½¿ç”¨è®¤è¯è°ƒç”¨API</span></span>
<span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-H</span> <span class="token string">"Authorization: AWS4-HMAC-SHA256 Credential=<span class="token variable">$ACCESS_KEY_ID</span>/..."</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-d</span> <span class="token string">'{"name":"john_doe"}'</span> <span class="token punctuation">\</span></span>
<span class="line">  localhost:50051 iam.v1.IAM/GetUser</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç­¾åè®¡ç®—" tabindex="-1"><a class="header-anchor" href="#ç­¾åè®¡ç®—">#</a> ç­¾åè®¡ç®—</h3>
<p>VGOä½¿ç”¨AWS Signature Version 4ç®—æ³•è¿›è¡ŒAPIç­¾åéªŒè¯ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å®˜æ–¹SDKæˆ–è‡ªè¡Œå®ç°ç­¾åç®—æ³•ã€‚</p>
<h2 id="ğŸ“Š-ç›‘æ§å’Œæ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#ğŸ“Š-ç›‘æ§å’Œæ—¥å¿—">#</a> ğŸ“Š ç›‘æ§å’Œæ—¥å¿—</h2>
<h3 id="æŸ¥çœ‹æœåŠ¡çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹æœåŠ¡çŠ¶æ€">#</a> æŸ¥çœ‹æœåŠ¡çŠ¶æ€</h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token comment"># æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€</span></span>
<span class="line"><span class="token function">curl</span> http://localhost:8080/health</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŸ¥çœ‹PrometheusæŒ‡æ ‡</span></span>
<span class="line"><span class="token function">curl</span> http://localhost:9090/metrics</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æŸ¥çœ‹æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹æ—¥å¿—">#</a> æŸ¥çœ‹æ—¥å¿—</h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token comment"># Docker Composeç¯å¢ƒ</span></span>
<span class="line"><span class="token function">docker-compose</span> logs <span class="token parameter variable">-f</span> vgo-iam</span>
<span class="line"></span>
<span class="line"><span class="token comment"># ç›´æ¥è¿è¡Œ</span></span>
<span class="line"><span class="token function">tail</span> <span class="token parameter variable">-f</span> logs/iam.log</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ”§-å¸¸ç”¨æ“ä½œè„šæœ¬" tabindex="-1"><a class="header-anchor" href="#ğŸ”§-å¸¸ç”¨æ“ä½œè„šæœ¬">#</a> ğŸ”§ å¸¸ç”¨æ“ä½œè„šæœ¬</h2>
<h3 id="æ‰¹é‡åˆ›å»ºç”¨æˆ·" tabindex="-1"><a class="header-anchor" href="#æ‰¹é‡åˆ›å»ºç”¨æˆ·">#</a> æ‰¹é‡åˆ›å»ºç”¨æˆ·</h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ‰¹é‡åˆ›å»ºç”¨æˆ·è„šæœ¬</span></span>
<span class="line"><span class="token assign-left variable">users</span><span class="token operator">=</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token string">"alice:Alice Smith:alice@example.com"</span></span>
<span class="line">  <span class="token string">"bob:Bob Johnson:bob@example.com"</span></span>
<span class="line">  <span class="token string">"charlie:Charlie Brown:charlie@example.com"</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token for-or-select variable">user</span> <span class="token keyword">in</span> <span class="token string">"<span class="token variable">${users<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>"</span><span class="token punctuation">;</span> <span class="token keyword">do</span></span>
<span class="line">  <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span><span class="token string">':'</span> <span class="token builtin class-name">read</span> <span class="token parameter variable">-r</span> name display_name email <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">"<span class="token variable">$user</span>"</span></span>
<span class="line">  </span>
<span class="line">  grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">"{</span>
<span class="line">    <span class="token entity" title="\&quot;">\"</span>name<span class="token entity" title="\&quot;">\"</span>: <span class="token entity" title="\&quot;">\"</span><span class="token variable">$name</span><span class="token entity" title="\&quot;">\"</span>,</span>
<span class="line">    <span class="token entity" title="\&quot;">\"</span>display_name<span class="token entity" title="\&quot;">\"</span>: <span class="token entity" title="\&quot;">\"</span><span class="token variable">$display_name</span><span class="token entity" title="\&quot;">\"</span>,</span>
<span class="line">    <span class="token entity" title="\&quot;">\"</span>email<span class="token entity" title="\&quot;">\"</span>: <span class="token entity" title="\&quot;">\"</span><span class="token variable">$email</span><span class="token entity" title="\&quot;">\"</span></span>
<span class="line">  }"</span> localhost:50051 iam.v1.IAM/CreateUser</span>
<span class="line">  </span>
<span class="line">  <span class="token builtin class-name">echo</span> <span class="token string">"Created user: <span class="token variable">$name</span>"</span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ‰¹é‡ç»‘å®šç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#æ‰¹é‡ç»‘å®šç­–ç•¥">#</a> æ‰¹é‡ç»‘å®šç­–ç•¥</h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ‰¹é‡ç»‘å®šç­–ç•¥è„šæœ¬</span></span>
<span class="line"><span class="token assign-left variable">users</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"alice"</span> <span class="token string">"bob"</span> <span class="token string">"charlie"</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token assign-left variable">policy</span><span class="token operator">=</span><span class="token string">"read_only_policy"</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token for-or-select variable">user</span> <span class="token keyword">in</span> <span class="token string">"<span class="token variable">${users<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>"</span><span class="token punctuation">;</span> <span class="token keyword">do</span></span>
<span class="line">  grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-d</span> <span class="token string">"{</span>
<span class="line">    <span class="token entity" title="\&quot;">\"</span>user_name<span class="token entity" title="\&quot;">\"</span>: <span class="token entity" title="\&quot;">\"</span><span class="token variable">$user</span><span class="token entity" title="\&quot;">\"</span>,</span>
<span class="line">    <span class="token entity" title="\&quot;">\"</span>policy_name<span class="token entity" title="\&quot;">\"</span>: <span class="token entity" title="\&quot;">\"</span><span class="token variable">$policy</span><span class="token entity" title="\&quot;">\"</span></span>
<span class="line">  }"</span> localhost:50051 iam.v1.IAM/AttachUserPolicy</span>
<span class="line">  </span>
<span class="line">  <span class="token builtin class-name">echo</span> <span class="token string">"Attached policy <span class="token variable">$policy</span> to user: <span class="token variable">$user</span>"</span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸš¨-æ•…éšœæ’é™¤" tabindex="-1"><a class="header-anchor" href="#ğŸš¨-æ•…éšœæ’é™¤">#</a> ğŸš¨ æ•…éšœæ’é™¤</h2>
<h3 id="å¸¸è§é”™è¯¯" tabindex="-1"><a class="header-anchor" href="#å¸¸è§é”™è¯¯">#</a> å¸¸è§é”™è¯¯</h3>
<h4 id="_1-æƒé™è¢«æ‹’ç»" tabindex="-1"><a class="header-anchor" href="#_1-æƒé™è¢«æ‹’ç»">#</a> 1. æƒé™è¢«æ‹’ç»</h4>
<div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre v-pre><code class="language-text"><span class="line">Error: permission denied</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰ç›¸åº”æƒé™</li>
<li>éªŒè¯ç­–ç•¥é…ç½®æ˜¯å¦æ­£ç¡®</li>
<li>ç¡®è®¤è®¿é—®å¯†é’¥çŠ¶æ€ä¸ºactive</li>
</ul>
<h4 id="_2-ç”¨æˆ·ä¸å­˜åœ¨" tabindex="-1"><a class="header-anchor" href="#_2-ç”¨æˆ·ä¸å­˜åœ¨">#</a> 2. ç”¨æˆ·ä¸å­˜åœ¨</h4>
<div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre v-pre><code class="language-text"><span class="line">Error: user not found</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>ç¡®è®¤ç”¨æˆ·åæ‹¼å†™æ­£ç¡®</li>
<li>æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²åˆ›å»º</li>
<li>éªŒè¯æ•°æ®åº“è¿æ¥æ­£å¸¸</li>
</ul>
<h4 id="_3-ç­–ç•¥è¯­æ³•é”™è¯¯" tabindex="-1"><a class="header-anchor" href="#_3-ç­–ç•¥è¯­æ³•é”™è¯¯">#</a> 3. ç­–ç•¥è¯­æ³•é”™è¯¯</h4>
<div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre v-pre><code class="language-text"><span class="line">Error: invalid policy document</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>æ£€æŸ¥JSONè¯­æ³•æ˜¯å¦æ­£ç¡®</li>
<li>éªŒè¯ç­–ç•¥å­—æ®µæ˜¯å¦å®Œæ•´</li>
<li>ä½¿ç”¨ç­–ç•¥éªŒè¯å·¥å…·æ£€æŸ¥</li>
</ul>
<h3 id="è°ƒè¯•æŠ€å·§" tabindex="-1"><a class="header-anchor" href="#è°ƒè¯•æŠ€å·§">#</a> è°ƒè¯•æŠ€å·§</h3>
<ol>
<li>
<p><strong>å¯ç”¨è°ƒè¯•æ—¥å¿—</strong>ï¼š</p>
<div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre v-pre><code class="language-yaml"><span class="line"><span class="token key atrule">log</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">level</span><span class="token punctuation">:</span> debug</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div></li>
<li>
<p><strong>ä½¿ç”¨å¥åº·æ£€æŸ¥</strong>ï¼š</p>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token function">curl</span> http://localhost:8080/health</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div></li>
<li>
<p><strong>æŸ¥çœ‹è¯¦ç»†é”™è¯¯</strong>ï¼š</p>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">grpcurl <span class="token parameter variable">-plaintext</span> <span class="token parameter variable">-v</span> localhost:50051 list</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div></li>
</ol>
<h2 id="ğŸ“š-ä¸‹ä¸€æ­¥" tabindex="-1"><a class="header-anchor" href="#ğŸ“š-ä¸‹ä¸€æ­¥">#</a> ğŸ“š ä¸‹ä¸€æ­¥</h2>
<p>ç°åœ¨æ‚¨å·²ç»äº†è§£äº†VGOçš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œå¯ä»¥ç»§ç»­å­¦ä¹ ï¼š</p>
<ul>
<li><a href="/api/" target="_blank" rel="noopener noreferrer">APIæ–‡æ¡£</a> - è¯¦ç»†çš„APIæ¥å£è¯´æ˜</li>
<li><a href="/deployment/" target="_blank" rel="noopener noreferrer">éƒ¨ç½²æŒ‡å—</a> - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²</li>
<li><a href="/development/" target="_blank" rel="noopener noreferrer">å¼€å‘æŒ‡å—</a> - å‚ä¸é¡¹ç›®å¼€å‘</li>
</ul>
<div class="hint-container tip">
<p class="hint-container-title">æç¤º</p>
<p>å»ºè®®åœ¨å¼€å‘ç¯å¢ƒä¸­å…ˆç†Ÿæ‚‰å„é¡¹åŠŸèƒ½ï¼Œç„¶åå†éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚</p>
</div>
<div class="hint-container warning">
<p class="hint-container-title">æ³¨æ„</p>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨æ—¶ï¼Œè¯·ç¡®ä¿ï¼š</p>
<ul>
<li>ä½¿ç”¨å¼ºå¯†ç å’Œå®‰å…¨çš„è®¿é—®å¯†é’¥</li>
<li>å®šæœŸè½®æ¢è®¿é—®å¯†é’¥</li>
<li>é…ç½®é€‚å½“çš„æƒé™ç­–ç•¥</li>
<li>å¯ç”¨ç›‘æ§å’Œæ—¥å¿—è®°å½•</li>
</ul>
</div>
</div></template>


